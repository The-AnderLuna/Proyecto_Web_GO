<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <title>Actualizar Usuario</title>
    <link rel="stylesheet" href="/css/gestion.css">
</head>
<body>
    <div class="container">
        <h1>Actualizar Usuario</h1>

        {{if .Error}}
        <p class="error">{{.Error}}</p>
        {{end}}

        {{if .Usuario}}
        <form action="/usuario/update" method="post">
            <input type="hidden" name="id" value="{{.Usuario.ID}}">
            <div class="form-group">
                <label for="nombre">Nombre:</label>
                <input type="text" id="nombre" name="nombre" value="{{.Usuario.Nombre}}" required>
            </div>
            <div class="form-group">
                <label for="apellidos">Apellidos:</label>
                <input type="text" id="apellidos" name="apellidos" value="{{.Usuario.Apellidos}}" required>
            </div>
            <div class="form-group">
                <label for="email">Correo Electrónico:</label>
                <input type="email" id="email" name="email" value="{{.Usuario.Email}}" required>
            </div>
            <div class="form-group">
                <label for="telefono">Teléfono:</label>
                <input type="text" id="telefono" name="telefono" value="{{.Usuario.Telefono}}" required>
            </div>
            <div class="form-group">
                <label for="rol">Rol:</label>
                <select id="rol" name="rol" required>
                    <option value="estudiante" {{if eq .Usuario.Rol "estudiante"}}selected{{end}}>Estudiante</option>
                    <option value="profesor" {{if eq .Usuario.Rol "profesor"}}selected{{end}}>Profesor</option>
                </select>
            </div>
            <div class="form-group">
                <label for="estado">Estado:</label>
                <select id="estado" name="estado" required>
                    <option value="activo" {{if eq .Usuario.Estado "activo"}}selected{{end}}>Activo</option>
                    <option value="inactivo" {{if eq .Usuario.Estado "inactivo"}}selected{{end}}>Inactivo</option>
                </select>
            </div>
            <button type="submit" class="btn btn-primary">Actualizar Usuario</button>
        </form>
        {{else}}
        <form action="/usuario/find" method="get">
            <div class="form-group">
                <label for="search_email">Correo Electrónico:</label>
                <input type="email" id="search_email" name="email" required>
            </div>
            <button type="submit" class="btn btn-primary">Buscar Usuario</button>
        </form>
        {{end}}

        <p><a href="/usuario">Volver</a></p>
    </div>
</body>
</html>
